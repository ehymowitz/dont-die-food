<div class="container">
  <h1><%= image_tag("https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png", height:'45', class:"message-user-avatar")%> <%= @other_user.first_name %></h1>
  <br>

  <div class="messages-box overflow-auto" id="messages" data-chatroom-id="<%= @chatroom.id %>">

      <% @chatroom.messages.each do |message| %>
        <% if message.sender == current_user %>
          <%= render partial: "messages/sent_message", locals: { message: message }%>
        <% else %>
          <%= render partial: "messages/received_message", locals: { message: message }%>
        <% end %>
      <% end %>

    <div class="message-form m-auto d-flex justify-content-center">
      <%= simple_form_for @message do |f| %>
        <%= f.input :content, placeholder: "Message #{@other_user.first_name}", label: false, autocomplete: "off" %>
        <%= f.hidden_field :sender_id, value: current_user.id %>
        <%= f.hidden_field :receiver_id, value: @other_user.id %>
        <%= f.hidden_field :chatroom_id, value: @chatroom.id %>
        <%= f.button :submit, "Send", class: "button-dark", style: "display:none"; %>
      <% end %>
    </div>
  </div>
</div>

